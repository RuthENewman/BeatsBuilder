<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" type="text/css" href="style.css"/>
  <link href="https://fonts.googleapis.com/css?family=Prata" rel="stylesheet"/>
  <script defer src="index.js" type="text/javascript"></script>
  <title>Beats Builder</title>
</head>
<body>
  <audio src="./drums/kick-acoustic01.wav" autostart="false" data-id="kick-acoustic"></audio>
  <audio src="./drums/snare-acoustic01.wav" autostart="false" data-id="snare-acoustic"></audio>
  <audio src="./drums/kick-electro01.wav" autostart="false" data-id="kick-electro"></audio>
  <audio src="./drums/snare-electro.wav" autostart="false" data-id="snare-electro"></audio>
  <audio src="./drums/openhat-acoustic01.wav" autostart="false" data-id="open-hat"></audio>
  <audio src="./drums/tom-acoustic02.wav" autostart="false" data-id="tom"></audio>
  <audio src="./drums/hihat-acoustic02.wav" autostart="false" data-id="hihat"></audio>
  <h1>Beats Builder</h1>
  <div class="drums">
      <div class="drum" data-id="kick-acoustic" onclick="playSample('kick-acoustic')">
        <p>Kick (acoustic)</p>
        <img src="./images/kickdrum.png" alt="kick"/>
      </div>
      <div class="drum" data-id="snare-acoustic" onclick="playSample('snare-acoustic')">
        <p>Snare (acoustic)</p>
        <img src="./images/snare.jpg" alt="snare"/>
      </div>
      <div class="drum" data-id="kick-electro" onclick="playSample('kick-electro')">
        <p>Kick (electronic)</p>
        <img src="./images/electronicdrumkit.jpg" alt="Electronic drum kit"/>
      </div>
      <div class="drum" data-id="snare-electro" onclick="playSample('snare-electro')">
        <p>Snare (electronic)</p>
        <img src="./images/electronicdrumkit.jpg" alt="Electronic drum kit"/>
      </div>
      <div class="drum" data-id="open-hat" onclick="playSample('open-hat')">
        <p>Open hat</p>
        <img src="./images/OpenHiHat.jpg" alt="Open hat"/>
      </div>
      <div class="drum" data-id="tom" onclick="playSample('tom')">
        <p>Tom</p>
        <img src="./images/tomdrum.jpg" alt="tom"/>
      </div>
      <div class="drum" data-id="hihat" onclick="playSample('hihat')">
        <p>Hihat</p>
        <img src="./images/hihat.jpg" alt="hihat"/>
      </div>
  </div>
  <script>

    function playSample(event) {
      console.log(event.target)
      const audio = document.querySelector(`audio[data-id="${event.target.dataset.id}"]`);
      const drumDiv = document.querySelector(`div[data-id="${event.target.dataset.id}"]`)
      if (!audio) return;
      drumDiv.classList.add('playing');
      audio.currentTime = 0;
      audio.play();
    }

  const drumDivs = Array.from(document.querySelectorAll('.drum'));
  drumDivs.forEach(singleDrum => singleDrum.addEventListener('click', playSample));

  </script>
</body>

</html>
